"use strict";module.exports=function(r,e){function n(){t(),e.apply(null,arguments)}function t(){var r,e;for(e=0;e<a.length;e++)(r=a[e]).ee.removeListener(r.event,r.fn)}function o(r){e=r}var a,f,u,i,l,s,h;if(!Array.isArray(r))throw new TypeError("arg must be an array of [ee, events...] arrays");for(a=[],f=0;f<r.length;f++){if(u=r[f],!Array.isArray(u)||u.length<2)throw new TypeError("each array member must be [ee, events...]");for(i=u[0],l=1;l<u.length;l++)h=function(r,e){return function(n){var t,o=Array(arguments.length),a="error"===r?n:null;for(t=0;t<o.length;t++)o[t]=arguments[t];e(a,this,r,o)}}(s=u[l],n),i.on(s,h),a.push({ee:i,event:s,fn:h})}return o.cancel=t,o};