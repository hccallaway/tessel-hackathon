function containsNamespace(e,t){var r,n,a=e.split(/[ ,]+/),o=(t+"").toLowerCase();for(r=0;r<a.length;r++)if((n=a[r])&&("*"===n||n.toLowerCase()===o))return!0;return!1}function convertDataDescriptorToAccessor(e,t){var r=Object.getOwnPropertyDescriptor(e,t),n=r.value;return r.get=function(){return n},r.writable&&(r.set=function(e){return n=e}),delete r.value,delete r.writable,Object.defineProperty(e,t,r),r}function createArgumentsString(e){var t,r="";for(t=0;t<e;t++)r+=", arg"+t;return r.substr(2)}function createStackString(e){var t,r=this.name+": "+this.namespace;for(this.message&&(r+=" deprecated "+this.message),t=0;t<e.length;t++)r+="\n    at "+callSiteToString(e[t]);return r}function depd(e){function t(e){log.call(t,e)}var r,n,a;if(!e)throw new TypeError("argument namespace is required");return r=getStack(),n=callSiteLocation(r[1]),a=n[0],t._file=a,t._ignored=isignored(e),t._namespace=e,t._traced=istraced(e),t._warned=Object.create(null),t.function=wrapfunction,t.property=wrapproperty,t}function isignored(e){return!!process.noDeprecation||containsNamespace(process.env.NO_DEPRECATION||"",e)}function istraced(e){return!!process.traceDeprecation||containsNamespace(process.env.TRACE_DEPRECATION||"",e)}function log(e,t){var r,n,a,o,i,c,s,u,l,p,f,m,g=0!==eventListenerCount(process,"deprecation");if(g||!this._ignored){for(i=0,c=!1,s=getStack(),u=this._file,t?(o=t,(a=callSiteLocation(s[1])).name=o.name,u=a[0]):a=o=callSiteLocation(s[i=2]);i<s.length;i++)if(r=callSiteLocation(s[i]),(n=r[0])===u)c=!0;else if(n===this._file)u=this._file;else if(c)break;if(!(void 0!==(l=r?o.join(":")+"__"+r.join(":"):void 0)&&l in this._warned)){if(this._warned[l]=!0,(p=e)||(p=defaultMessage(a!==o&&a.name?a:o)),g)return f=DeprecationError(this._namespace,p,s.slice(i)),void process.emit("deprecation",f);m=(process.stderr.isTTY?formatColor:formatPlain).call(this,p,r,s.slice(i)),process.stderr.write(m+"\n","utf8")}}}function callSiteLocation(e){var t,r=e.getFileName()||"<anonymous>",n=e.getLineNumber(),a=e.getColumnNumber();return e.isEval()&&(r=e.getEvalOrigin()+", "+r),t=[r,n,a],t.callSite=e,t.name=e.getFunctionName(),t}function defaultMessage(e){var t,r,n=e.callSite,a=e.name;return a||(a="<anonymous@"+formatLocation(e)+">"),t=n.getThis(),"Object"===(r=t&&n.getTypeName())&&(r=void 0),"Function"===r&&(r=t.name||r),r&&n.getMethodName()?r+"."+a:a}function formatPlain(e,t,r){var n,a=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced){for(n=0;n<r.length;n++)a+="\n    at "+callSiteToString(r[n]);return a}return t&&(a+=" at "+formatLocation(t)),a}function formatColor(e,t,r){var n,a="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(n=0;n<r.length;n++)a+="\n    [36mat "+callSiteToString(r[n])+"[39m";return a}return t&&(a+=" [36m"+formatLocation(t)+"[39m"),a}function formatLocation(e){return relative(basePath,e[0])+":"+e[1]+":"+e[2]}function getStack(){var e,t=Error.stackTraceLimit,r={},n=Error.prepareStackTrace;return Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,t),Error.captureStackTrace(r),e=r.stack.slice(1),Error.prepareStackTrace=n,Error.stackTraceLimit=t,e}function prepareObjectStackTrace(e,t){return t}function wrapfunction(fn,message){var args,deprecate,stack,site,deprecatedfn;if("function"!=typeof fn)throw new TypeError("argument fn must be a function");return args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]),site.name=fn.name,deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})')}function wrapproperty(e,t,r){var n,a,o,i,c,s;if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");if(!(n=Object.getOwnPropertyDescriptor(e,t)))throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");a=this,o=getStack(),(i=callSiteLocation(o[1])).name=t,"value"in n&&(n=convertDataDescriptorToAccessor(e,t)),c=n.get,s=n.set,"function"==typeof c&&(n.get=function(){return log.call(a,r,i),c.apply(this,arguments)}),"function"==typeof s&&(n.set=function(){return log.call(a,r,i),s.apply(this,arguments)}),Object.defineProperty(e,t,n)}function DeprecationError(e,t,r){var n,a=Error();return Object.defineProperty(a,"constructor",{value:DeprecationError}),Object.defineProperty(a,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(a,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(a,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=createStackString.call(this,r)},set:function(e){n=e}}),a}var basePath,callSiteToString=require("./lib/compat").callSiteToString,eventListenerCount=require("./lib/compat").eventListenerCount,relative=require("path").relative;module.exports=depd,basePath=process.cwd();